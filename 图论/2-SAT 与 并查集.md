# 2-SAT 与 并查集

https://codeforces.com/contest/1713/problem/E

题目可转化为对 $n$ 个布尔变量的真假做两种约束：
1. 布尔变量 $a, b$ 有且只有一个为真。
2. 布尔变量 $a, b$ 同为真或同为假。

实际上约束 $1$ 可描述为 异或 $a \oplus b = 1$。约束 $2$ 可以描述为 与 $(a \land b) \lor (\neg a \land \neg b)$。

在 2-SAT 问题中我们通常可以解决布尔变量的 或约束 和 与非约束，即： $a = x_{1}$ 或 $b = x_{2}$ 至少成立一个，和 $a = x_{1}$ 和 $b = x_{2}$ 不同时存在。事实上，或约束 和 与非约束 在 2-SAT 问题中需要建立有向图(回忆一下怎么建边)。而 异或约束 和 与约束 可以建立无向图。2-SAT 建立有向图可以用 SCC 缩点解决。显然无向图可以用有向图表示出来，继续用 SCC 缩点来解决 异或约束 和 与约束 也没有问题。但是显然无向图缩连通分量有更简单的办法，并查集。

这道题本质上也是 2-SAT 问题，只不过常规的 2-SAT 需要建立有向图，用 Tarjan 缩点，而本题只需要建立无向图，所以可以用并查集判断连通分量。这道题需要在线判断 2-SAT 是否有解，而并查集判连通分量支持在线操作，Tarjan 不行，所以本题直接卡掉了常规的 Tarjan 做法。
