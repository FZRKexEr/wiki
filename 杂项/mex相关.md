# mex 相关

## 单点修改 mex

一个很好的做法是用 set 维护未出现的数，未出现的最小的数就是 mex。复杂度 $O(A\log A)$

## 不带修区间 mex

### 方法1 普通莫队 + bitset
给一个长度为 $n$ 的序列， $m$ 次查询。每次查询一个区间的 mex。 $1 \leq n, m \leq 200000$。

考虑普通莫队，用 bitset 维护未出现的数，把未出现的数的那一位赋值成 $1$ 。显然可以做到 $O(1)$ 增加，删除。

查询用 `_Find_first()` 来找到最小的 $1$ 的位置。`_Find_first()` 复杂度低于 $O(\frac{N}{32})$, 并且 `O2` 优化后非常快。即使 $2e5$ 次 `_Find_first()` 也可以承受。

### 方法2 回滚莫队

### 方法3 可持久化线段树(在线)

直接维护区间内最小的未出现的数就好了。